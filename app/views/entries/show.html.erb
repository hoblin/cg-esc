<% content_for :title, "Showing entry" %>

<div class="w-full">
  <% if notice.present? %>
    <p class="py-2 px-3 bg-green-50 mb-5 text-green-500 font-medium rounded-md inline-block" id="notice"><%= notice %></p>
  <% end %>

  <div class="flex justify-between items-center mb-6">
    <h1 class="font-bold text-4xl">
      <%= @entry.country.flag %> <%= @entry.country.name %> <%= @entry.contest.year %>
    </h1>

    <div class="flex gap-2">
      <%= link_to edit_entry_path(@entry), class: "rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 font-medium" do %>
        <%= phosphor_icon "pencil-simple", class: "h-5 w-5 inline mr-1" %>
        Edit
      <% end %>
      <%= link_to entries_path, class: "rounded-md px-3.5 py-2.5 bg-gray-100 hover:bg-gray-50 font-medium" do %>
        <%= phosphor_icon "arrow-left", class: "h-5 w-5 inline mr-1" %>
        Back
      <% end %>
    </div>
  </div>

  <div class="bg-white rounded-lg border border-gray-200 p-6">
    <dl class="divide-y divide-gray-200">
      <div class="py-4 sm:grid sm:grid-cols-3 sm:gap-4">
        <dt class="text-sm font-medium text-gray-500">Artist</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0">
          <%= @entry.artist_name.presence || content_tag(:span, "-", class: "text-gray-400") %>
        </dd>
      </div>

      <div class="py-4 sm:grid sm:grid-cols-3 sm:gap-4">
        <dt class="text-sm font-medium text-gray-500">Song</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0">
          <%= @entry.song_title.presence || content_tag(:span, "-", class: "text-gray-400") %>
        </dd>
      </div>

      <div class="py-4 sm:grid sm:grid-cols-3 sm:gap-4">
        <dt class="text-sm font-medium text-gray-500">Original Lyrics</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0 whitespace-pre-wrap">
          <%= @entry.lyrics.presence || content_tag(:span, "-", class: "text-gray-400") %>
        </dd>
      </div>

      <div class="py-4 sm:grid sm:grid-cols-3 sm:gap-4">
        <dt class="text-sm font-medium text-gray-500">English Lyrics</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0 whitespace-pre-wrap">
          <%= @entry.en_lyrics.presence || content_tag(:span, "-", class: "text-gray-400") %>
        </dd>
      </div>

      <div class="py-4 sm:grid sm:grid-cols-3 sm:gap-4">
        <dt class="text-sm font-medium text-gray-500">Semi-Final</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0">
          <% if @entry.semifinal.present? && @entry.semifinal_order.present? %>
            Semi-Final <%= @entry.semifinal %>, Position <%= @entry.semifinal_order %>
          <% else %>
            <span class="text-gray-400">-</span>
          <% end %>
        </dd>
      </div>

      <div class="py-4 sm:grid sm:grid-cols-3 sm:gap-4">
        <dt class="text-sm font-medium text-gray-500">Final</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0">
          <% if @entry.final_order.present? %>
            Position <%= @entry.final_order %>
          <% else %>
            <span class="text-gray-400">-</span>
          <% end %>
        </dd>
      </div>

      <div class="py-4 sm:grid sm:grid-cols-3 sm:gap-4">
        <dt class="text-sm font-medium text-gray-500">Qualified</dt>
        <dd class="mt-1 text-sm text-gray-900 sm:col-span-2 sm:mt-0">
          <% if @entry.qualified.nil? %>
            <span class="text-gray-400">-</span>
          <% else %>
            <%= @entry.qualified ? '✅ Yes' : '❌ No' %>
          <% end %>
        </dd>
      </div>
    </dl>
  </div>
</div>
